{"version":3,"sources":["components/ui/Wallet.tsx","utils/config.ts","utils/near.ts","components/ui/Notifications.tsx","components/ui/Cover.tsx","assets/img/petshop.jpg","components/petshop/PetCard.tsx","components/petshop/AddPet.tsx","components/ui/Loader.tsx","utils/petshop.ts","components/petshop/Pets.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Wallet","address","amount","symbol","destroy","Dropdown","Toggle","variant","id","className","Spinner","animation","size","Menu","Item","href","target","Stack","direction","gap","Divider","as","onClick","CONTRACT_NAME","process","environment","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","headers","Error","nearEnv","connect","Object","assign","deps","keyStore","keyStores","BrowserLocalStorageKeyStore","near","window","walletConnection","WalletConnection","accountId","getAccountId","contract","Contract","account","viewMethods","changeMethods","accountBalance","formatNearAmount","getAccountBalance","total","login","requestSignIn","logout","signOut","location","reload","Notification","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","NotificationError","text","DefaultProps","defaultProps","Cover","name","coverImg","style","background","minHeight","maxWidth","src","alt","Button","catch","e","console","log","Pet","pet","adopt","fee","isAdopted","adopted","Col","Card","Header","adopter","Badge","bg","imageURL","petName","objectFit","Body","Title","Text","breed","disabled","utils","format","AddPet","save","useState","setPetName","setImage","setBreed","age","setAge","setLocation","show","setShow","handleClose","load","setLoad","width","Alert","margin","Modal","onHide","centered","closeButton","Form","FloatingLabel","controlId","label","Control","type","onChange","value","placeholder","Footer","Loader","role","GAS","adoptPet","params","petId","Pets","pets","setPets","loading","setLoading","setFee","getPets","useCallback","error","getAdoptionFee","getFee","addPet","data","uuid4","listPet","then","resp","toast","useEffect","marginTop","Row","xs","sm","lg","map","_pet","App","balance","setBalance","getBalance","Container","fluid","Navbar","expand","Brand","Nav","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","nearInitPromise","initializeContract","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.704b45d3.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Dropdown, Stack, Spinner } from \"react-bootstrap\";\r\n\r\ninterface Props {\r\n  address: string,\r\n  amount: string,\r\n  symbol: string,\r\n  destroy: Function,\r\n}\r\n\r\nconst Wallet:React.FC<Props> = ({ address, amount, symbol, destroy }) => {\r\n  if (address) {\r\n    return (\r\n      <>\r\n        <Dropdown>\r\n          <Dropdown.Toggle\r\n            variant=\"light\"\r\n            id=\"dropdown-basic\"\r\n            className=\"d-flex align-items-center border rounded-pill py-1\"\r\n          >\r\n            {amount ? (\r\n              <>\r\n                {amount} <span className=\"ms-1\"> {symbol}</span>\r\n              </>\r\n            ) : (\r\n              <Spinner animation=\"border\" size=\"sm\" className=\"opacity-25\" />\r\n            )}\r\n          </Dropdown.Toggle>\r\n\r\n          <Dropdown.Menu className=\"shadow-lg border-0\">\r\n            <Dropdown.Item\r\n              href={`https://explorer.testnet.near.org/accounts/${address}`}\r\n              target=\"_blank\"\r\n            >\r\n              <Stack direction=\"horizontal\" gap={2}>\r\n                <i className=\"bi bi-person-circle fs-4\" />\r\n                <span className=\"font-monospace\">{address}</span>\r\n              </Stack>\r\n            </Dropdown.Item>\r\n\r\n            <Dropdown.Divider />\r\n            <Dropdown.Item\r\n              as=\"button\"\r\n              className=\"d-flex align-items-center\"\r\n              onClick={() => {\r\n                destroy();\r\n              }}\r\n            >\r\n              <i className=\"bi bi-box-arrow-right me-2 fs-4\" />\r\n              Disconnect\r\n            </Dropdown.Item>\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default Wallet;\r\n","const CONTRACT_NAME =\r\n    process.env.CONTRACT_NAME || \"nearpetshop.devfrank.testnet\"; // put here a smart contracts' name\r\n\r\nfunction environment(env: any) {\r\n    switch (env) {\r\n        case \"mainnet\":\r\n            return {\r\n                networkId: \"mainnet\",\r\n                nodeUrl: \"https://rpc.mainnet.near.org\",\r\n                contractName: CONTRACT_NAME,\r\n                walletUrl: \"https://wallet.near.org\",\r\n                helperUrl: \"https://helper.mainnet.near.org\",\r\n                explorerUrl: \"https://explorer.mainnet.near.org\",\r\n                headers: {}\r\n            };\r\n        case \"testnet\":\r\n            return {\r\n                networkId: \"testnet\",\r\n                nodeUrl: \"https://rpc.testnet.near.org\",\r\n                contractName: CONTRACT_NAME,\r\n                walletUrl: \"https://wallet.testnet.near.org\",\r\n                helperUrl: \"https://helper.testnet.near.org\",\r\n                explorerUrl: \"https://explorer.testnet.near.org\",\r\n                headers: {}\r\n            };\r\n        default:\r\n            throw Error(`Unknown environment '${env}'.`);\r\n    }\r\n}\r\n\r\nexport default environment;\r\n","import environment from \"./config\";\r\nimport { connect, Contract, keyStores, WalletConnection } from \"near-api-js\";\r\nimport { formatNearAmount } from \"near-api-js/lib/utils/format\";\r\n\r\nconst nearEnv = environment(\"testnet\");\r\n\r\nexport async function initializeContract() {\r\n    const near = await connect(\r\n        Object.assign(\r\n            { deps: { keyStore: new keyStores.BrowserLocalStorageKeyStore() } },\r\n            nearEnv\r\n        )\r\n    );\r\n    window.walletConnection = new WalletConnection(near, null);\r\n    window.accountId = window.walletConnection.getAccountId();\r\n    window.contract = new Contract(\r\n        window.walletConnection.account(),\r\n        nearEnv.contractName,\r\n        {\r\n            // List here all view methods\r\n            viewMethods: [\"getPet\", \"getPets\", \"petCount\", \"getFee\"],\r\n            // List call methods that change state\r\n            changeMethods: [\"adoptPet\", \"listPet\"],\r\n        }\r\n    );\r\n}\r\n\r\nexport async function accountBalance() {\r\n    return formatNearAmount(\r\n        (await window.walletConnection.account().getAccountBalance()).total,\r\n        2\r\n    );\r\n}\r\n\r\nexport async function getAccountId() {\r\n    return window.walletConnection.getAccountId();\r\n}\r\n\r\nexport function login() {\r\n    window.walletConnection.requestSignIn(nearEnv.contractName);\r\n}\r\n\r\nexport function logout() {\r\n    window.walletConnection.signOut();\r\n    window.location.reload();\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {ToastContainer} from 'react-toastify';\r\n\r\nconst Notification = () => (\r\n  <ToastContainer\r\n    position=\"bottom-center\"\r\n    autoClose={5000}\r\n    hideProgressBar\r\n    newestOnTop\r\n    closeOnClick\r\n    rtl={false}\r\n    pauseOnFocusLoss\r\n    draggable={false}\r\n    pauseOnHover\r\n  />\r\n);\r\n// @ts-ignore \r\nconst NotificationSuccess = ({ text }) => (\r\n  <div>\r\n    <i className=\"bi bi-check-circle-fill text-success mx-2\" />\r\n    <span className=\"text-secondary mx-1\">{text}</span>\r\n  </div>\r\n);\r\n// @ts-ignore \r\nconst NotificationError = ({ text }) => (\r\n  <div>\r\n    <i className=\"bi bi-x-circle-fill text-danger mx-2\" />\r\n    <span className=\"text-secondary mx-1\">{text}</span>\r\n  </div>\r\n);\r\n\r\nconst Props = {\r\n  text: PropTypes.string,\r\n};\r\n\r\nconst DefaultProps = {\r\n  text: '',\r\n};\r\n\r\nNotificationSuccess.propTypes = Props;\r\nNotificationSuccess.defaultProps = DefaultProps;\r\n\r\nNotificationError.propTypes = Props;\r\nNotificationError.defaultProps = DefaultProps;\r\n\r\nexport { Notification, NotificationSuccess, NotificationError };\r\n","import React from 'react';\r\nimport { Button } from \"react-bootstrap\";\r\n\r\ninterface Props {\r\n  name: string,\r\n  coverImg: string,\r\n  login: Function,\r\n}\r\n\r\nconst Cover:React.FC<Props> = ({ name, coverImg, login }) => {\r\n  if (name) {\r\n    return (\r\n      <div\r\n          className=\"d-flex justify-content-center flex-column text-center \"\r\n          style={{ background: \"#282c34\", minHeight: \"100vh\" }}\r\n        >\r\n          <div className=\"mt-auto text-light mb-5\">\r\n            <div\r\n              className=\" ratio ratio-1x1 mx-auto mb-2\"\r\n              style={{ maxWidth: \"320px\" }}\r\n            >\r\n              <img src={coverImg} alt=\"\" />\r\n            </div>\r\n            <h1>{name}</h1>\r\n            <p>Please connect your wallet to continue.</p>\r\n            <Button\r\n              onClick={() => login().catch((e: Error) => console.log(e))}\r\n              variant=\"outline-light\"\r\n              className=\"rounded-pill px-3 mt-3\"\r\n            >\r\n              Connect Wallet\r\n            </Button>\r\n          </div>\r\n\r\n          <p className=\"mt-auto text-secondary\">Powered by Near</p>\r\n        </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default Cover;\r\n","export default __webpack_public_path__ + \"static/media/petshop.0b59a906.jpg\";","import React from \"react\";\r\nimport { utils } from \"near-api-js\";\r\nimport { Card, Button, Col, Badge, Stack } from \"react-bootstrap\";\r\n\r\nexport interface petDetails{\r\n\tid: string,\r\n\tpetName: string,\r\n\timageURL: string,\r\n\tage: string,\r\n\tbreed: string,\r\n\tlocation: string,\r\n\tadopted: boolean,\r\n\tadopter: string,\r\n}\r\n\r\ninterface Props {\r\n  pet: petDetails,\r\n  adopt: Function,\r\n  fee: string\r\n}\r\n\r\n\r\nconst Pet:React.FC<Props> = ({ pet, adopt, fee }) => {\r\n  const trigger = () => {\r\n    adopt(pet.id);\r\n  };\r\n\r\n  const isAdopted = () => pet.adopted;\r\n\r\n  return (\r\n    <Col key={pet.id}>\r\n      <Card className=\" h-100\">\r\n        <Card.Header>\r\n          <Stack direction=\"horizontal\" gap={2}>\r\n            <span className=\"font-monospace text-secondary\">{pet.adopter}</span>\r\n            <Badge bg=\"secondary\" className=\"ms-auto\">\r\n              {pet.adopted}\r\n            </Badge>\r\n          </Stack>\r\n        </Card.Header>\r\n        <div className=\" ratio ratio-4x3\">\r\n          <img src={pet.imageURL} alt={pet.petName} style={{ objectFit: \"cover\" }} />\r\n        </div>\r\n        <Card.Body className=\"d-flex  flex-column text-center\">\r\n          <Card.Title>{pet.petName}</Card.Title>\r\n          <Card.Text className=\"flex-grow-1 \">{pet.breed}</Card.Text>\r\n          <Card.Text className=\"text-secondary\">\r\n            <span>{pet.location}</span>\r\n          </Card.Text>\r\n          <Button\r\n            variant=\"outline-dark\"\r\n            onClick={trigger}\r\n            className=\"w-100 py-3\"\r\n            disabled={isAdopted()}\r\n          >\r\n            {isAdopted()? \"Adopted\" : `Buy for ${utils.format.formatNearAmount(fee)} NEAR`}\r\n          </Button>\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n  );\r\n};\r\n\r\nexport default Pet;","import React, { useState } from \"react\"\r\nimport { Button, Modal, Form, FloatingLabel, Alert } from \"react-bootstrap\"\r\n\r\ninterface Props {\r\n\tsave: Function\r\n}\r\n\r\nconst AddPet: React.FC<Props> = ({ save }) => {\r\n\tconst [petName, setPetName] = useState(\"\")\r\n\tconst [imageURL, setImage] = useState(\"\")\r\n\tconst [breed, setBreed] = useState(\"\")\r\n\tconst [age, setAge] = useState(\"\")\r\n\tconst [location, setLocation] = useState(\"\")\r\n\tconst isFormFilled = () => petName && imageURL && breed && age && location\r\n\r\n\tconst [show, setShow] = useState(false)\r\n\r\n\tconst handleClose = () => setShow(false)\r\n\tconst handleShow = () => setShow(true)\r\n\tconst [load, setLoad] = useState(false)\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button\r\n\t\t\t\tonClick={handleShow}\r\n\t\t\t\tvariant=\"dark\"\r\n\t\t\t\tclassName=\"rounded-pill px-0\"\r\n\t\t\t\tstyle={{ width: \"38px\" }}\r\n\t\t\t>\r\n\t\t\t\t<i className=\"bi bi-plus\"></i>\r\n\t\t\t</Button>\r\n\t\t\t{load && (\r\n\t\t\t\t<Alert variant=\"success\">\r\n\t\t\t\t\t<p style={{ margin: \"0\" }}>Pet Added Successfullyâœ…</p>\r\n\t\t\t\t\t<p style={{ margin: \"0\" }}>Page will Reload in a view Seconds...</p>\r\n\t\t\t\t</Alert>\r\n\t\t\t)}\r\n\t\t\t<Modal show={show} onHide={handleClose} centered>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>New Pet</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\tcontrolId=\"inputName\"\r\n\t\t\t\t\t\t\tlabel=\"Pet name\"\r\n\t\t\t\t\t\t\tclassName=\"mb-3\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tsetPetName(e.target.value)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter name of pet\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\tcontrolId=\"inputUrl\"\r\n\t\t\t\t\t\t\tlabel=\"Image URL\"\r\n\t\t\t\t\t\t\tclassName=\"mb-3\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Image URL\"\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tsetImage(e.target.value)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\tcontrolId=\"inputBreed\"\r\n\t\t\t\t\t\t\tlabel=\"Breed\"\r\n\t\t\t\t\t\t\tclassName=\"mb-3\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\tas=\"textarea\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"breed\"\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tsetBreed(e.target.value)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t<FloatingLabel controlId=\"inputAge\" label=\"Age\" className=\"mb-3\">\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\tas=\"textarea\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"age\"\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tsetAge(e.target.value)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\tcontrolId=\"inputLocation\"\r\n\t\t\t\t\t\t\tlabel=\"Location\"\r\n\t\t\t\t\t\t\tclassName=\"mb-3\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Location\"\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tsetLocation(e.target.value)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t</Form>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"outline-secondary\" onClick={handleClose}>\r\n\t\t\t\t\t\tClose\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"dark\"\r\n\t\t\t\t\t\tdisabled={!isFormFilled()}\r\n\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tsetLoad(true)\r\n\t\t\t\t\t\t\t\tawait save({\r\n\t\t\t\t\t\t\t\t\tpetName,\r\n\t\t\t\t\t\t\t\t\timageURL,\r\n\t\t\t\t\t\t\t\t\tbreed,\r\n\t\t\t\t\t\t\t\t\tage,\r\n\t\t\t\t\t\t\t\t\tlocation,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\thandleClose()\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tList Pet\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default AddPet\r\n","import React from 'react';\r\nimport { Spinner } from \"react-bootstrap\";\r\nconst Loader = () => (\r\n \r\n \r\n  <div className=\"d-flex justify-content-center\">\r\n    <Spinner animation=\"border\" role=\"status\" className=\"opacity-25\">\r\n      <span className=\"visually-hidden\">Loading...</span>\r\n    </Spinner>\r\n  </div>\r\n\r\n);\r\nexport default Loader;\r\n","import { v4 as uuid4 } from \"uuid\";\r\nimport { petDetails } from \"../components/petshop/PetCard\";\r\nimport { parseNearAmount } from \"near-api-js/lib/utils/format\";\r\n\r\nconst GAS = 100000000000000;\r\n\r\nexport function listPet(pet: petDetails) {\r\n    pet.id = uuid4();\r\n    //@ts-ignore\r\n    return window.contract.listPet({ pet });\r\n}\r\n\r\nexport function getPetsList() {\r\n    //@ts-ignore\r\n    return window.contract.getPets();\r\n}\r\n\r\nexport async function adoptPet(params: {id: string, fee: string}){\r\n    const {id, fee} = params;\r\n\r\n    //@ts-ignore\r\n    await window.contract.adoptPet({petId : id}, GAS, fee)\r\n}\r\n\r\nexport function getFee() {\r\n    //@ts-ignore\r\n    return window.contract.getFee();\r\n}","import React, { useEffect, useState, useCallback } from \"react\"\r\nimport { toast } from \"react-toastify\"\r\nimport Pet from \"./PetCard\"\r\nimport AddPet from \"./AddPet\"\r\nimport { utils } from \"near-api-js\"\r\nimport Loader from \"../ui/Loader\"\r\nimport { Row } from \"react-bootstrap\"\r\nimport { petDetails } from \"./PetCard\"\r\nimport { NotificationSuccess, NotificationError } from \"../ui/Notifications\"\r\nimport { getPetsList, getFee, adoptPet, listPet } from \"../../utils/petshop\"\r\n\r\nconst Pets = () => {\r\n\tconst [pets, setPets] = useState([])\r\n\tconst [loading, setLoading] = useState(false)\r\n\tconst [fee, setFee] = useState(\"0\")\r\n\r\n\t// function to get the list of products\r\n\tconst getPets = useCallback(async () => {\r\n\t\ttry {\r\n\t\t\tsetLoading(true)\r\n\t\t\tsetPets(await getPetsList())\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log({ error })\r\n\t\t} finally {\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst getAdoptionFee = useCallback(async () => {\r\n\t\ttry {\r\n\t\t\tsetFee(await getFee())\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log({ error })\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst addPet = async (data: petDetails) => {\r\n\t\ttry {\r\n\t\t\tsetLoading(true)\r\n\t\t\tlistPet(data).then((resp: any) => {\r\n\t\t\t\tgetPets()\r\n\t\t\t})\r\n\t\t\t//toast(<NotificationSuccess text=\"Pet added successfully.\" />);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log({ error })\r\n\t\t\ttoast(<NotificationError text=\"Failed to list pet.\" />)\r\n\t\t} finally {\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\t//  function to initiate transaction\r\n\tconst adopt = async (id: string) => {\r\n\t\ttry {\r\n\t\t\tawait adoptPet({\r\n\t\t\t\tid,\r\n\t\t\t\tfee,\r\n\t\t\t}).then((resp: any) => getPets())\r\n\t\t\t//toast(<NotificationSuccess text=\"Pet adopted successfully\" />);\r\n\t\t} catch (error) {\r\n\t\t\ttoast(<NotificationError text=\"Failed to adopt pet.\" />)\r\n\t\t} finally {\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetPets()\r\n\t\tgetAdoptionFee()\r\n\t}, [getPets, getAdoptionFee])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{!loading ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className=\"text-start container\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tid=\"adoptionNotice\"\r\n\t\t\t\t\t\t\tclassName=\"mb-4\"\r\n\t\t\t\t\t\t\tstyle={{ marginTop: \"1em\" }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<i className=\"bi bi-bell-fill\"></i> Adoption Fee is{\" \"}\r\n\t\t\t\t\t\t\t\t{utils.format.formatNearAmount(fee)} Near\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n\t\t\t\t\t\t<AddPet save={addPet} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Row xs={1} sm={2} lg={3} className=\"g-3  mb-5 g-xl-4 g-xxl-5\">\r\n\t\t\t\t\t\t{pets.map((_pet) => (\r\n\t\t\t\t\t\t\t<Pet pet={_pet} adopt={adopt} fee={fee} />\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<Loader />\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default Pets\r\n","import \"./App.css\"\r\nimport React, { useEffect, useCallback, useState } from \"react\"\r\nimport { Navbar, Container, Nav } from \"react-bootstrap\"\r\nimport Wallet from \"./components/ui/Wallet\"\r\nimport \"../node_modules/bootstrap/dist/css/bootstrap.css\"\r\nimport { login, logout as destroy, accountBalance } from \"./utils/near\"\r\nimport { Notification } from \"./components/ui/Notifications\"\r\nimport Cover from \"./components/ui/Cover\"\r\nimport coverImg from \"./assets/img/petshop.jpg\"\r\nimport Pets from \"./components/petshop/Pets\"\r\n\r\nconst App = function AppWrapper() {\r\n\tconst account = window.walletConnection.account()\r\n\r\n\tconst [balance, setBalance] = useState(\"0\")\r\n\r\n\tconst getBalance = useCallback(async () => {\r\n\t\tif (account.accountId) {\r\n\t\t\tsetBalance(await accountBalance())\r\n\t\t}\r\n\t}, [account])\r\n\r\n\tuseEffect(() => {\r\n\t\tgetBalance()\r\n\t}, [getBalance])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Notification />\r\n\t\t\t{account.accountId ? (\r\n\t\t\t\t<Container fluid=\"md\">\r\n\t\t\t\t\t<Navbar bg=\"white\" expand=\"lg\">\r\n\t\t\t\t\t\t<Container className=\"container-fluid\">\r\n\t\t\t\t\t\t\t<Navbar.Brand href=\"index.html\" className=\" m-0 h4 fw-bold\">\r\n\t\t\t\t\t\t\t\tPet Adoption Shop\r\n\t\t\t\t\t\t\t</Navbar.Brand>\r\n\t\t\t\t\t\t\t<Nav className=\"justify-content-end pt-3 pb-5\">\r\n\t\t\t\t\t\t\t\t<Nav.Item>\r\n\t\t\t\t\t\t\t\t\t<Wallet\r\n\t\t\t\t\t\t\t\t\t\taddress={account.accountId}\r\n\t\t\t\t\t\t\t\t\t\tamount={balance}\r\n\t\t\t\t\t\t\t\t\t\tsymbol=\"NEAR\"\r\n\t\t\t\t\t\t\t\t\t\tdestroy={destroy}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Nav.Item>\r\n\t\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t</Navbar>\r\n\t\t\t\t\t<main>\r\n\t\t\t\t\t\t<Pets />\r\n\t\t\t\t\t</main>\r\n\t\t\t\t</Container>\r\n\t\t\t) : (\r\n\t\t\t\t<Cover name=\"Pet Shop\" login={login} coverImg={coverImg} />\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default App\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { initializeContract } from \"./utils/near\";\r\n\r\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nwindow.nearInitPromise = initializeContract()\r\n  .then(() => {\r\n    const root = ReactDOM.createRoot(\r\n      document.getElementById('root') as HTMLElement\r\n    );\r\n    root.render(\r\n      <React.StrictMode>\r\n        <App />\r\n      </React.StrictMode>\r\n    );\r\n  })\r\n  .catch(console.error);\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}