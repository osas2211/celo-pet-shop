{"version":3,"sources":["components/ui/Wallet.tsx","utils/config.ts","utils/near.ts","components/ui/Notifications.tsx","components/ui/Cover.tsx","assets/img/petshop.jpg","components/petshop/PetCard.tsx","components/petshop/AddPet.tsx","components/ui/Loader.tsx","utils/petshop.ts","components/petshop/Pets.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Wallet","address","amount","symbol","destroy","Dropdown","Toggle","variant","id","className","Spinner","animation","size","Menu","Item","href","target","Stack","direction","gap","Divider","as","onClick","CONTRACT_NAME","process","environment","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","headers","Error","nearEnv","connect","Object","assign","deps","keyStore","keyStores","BrowserLocalStorageKeyStore","near","window","walletConnection","WalletConnection","accountId","getAccountId","contract","Contract","account","viewMethods","changeMethods","accountBalance","formatNearAmount","getAccountBalance","total","login","requestSignIn","logout","signOut","location","reload","Notification","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","NotificationSuccess","text","NotificationError","DefaultProps","defaultProps","Cover","name","coverImg","style","background","minHeight","maxWidth","src","alt","Button","catch","e","console","log","Pet","pet","adopt","isAdopted","fee","adopted","Col","Card","Header","owner","Badge","bg","imageURL","petName","objectFit","Body","Title","Text","breed","disabled","AddPet","save","useState","setPetName","setImage","setBreed","age","setAge","setLocation","show","setShow","handleClose","width","Modal","onHide","centered","closeButton","Form","FloatingLabel","controlId","label","Control","type","onChange","value","placeholder","Footer","Loader","role","GAS","adoptPet","params","petId","Pets","pets","setPets","loading","setLoading","setFee","getPets","useCallback","error","getAdoptionFee","getFee","addPet","data","uuid4","listPet","then","resp","toast","useEffect","marginTop","utils","format","Row","xs","sm","lg","map","_pet","App","balance","setBalance","getBalance","Container","fluid","Navbar","expand","Brand","Nav","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","nearInitPromise","initializeContract","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.41b1c1c1.chunk.js","sourcesContent":["import React from \"react\";\nimport { Dropdown, Stack, Spinner } from \"react-bootstrap\";\n\ninterface Props {\n  address: string,\n  amount: string,\n  symbol: string,\n  destroy: Function,\n}\n\nconst Wallet:React.FC<Props> = ({ address, amount, symbol, destroy }) => {\n  if (address) {\n    return (\n      <>\n        <Dropdown>\n          <Dropdown.Toggle\n            variant=\"light\"\n            id=\"dropdown-basic\"\n            className=\"d-flex align-items-center border rounded-pill py-1\"\n          >\n            {amount ? (\n              <>\n                {amount} <span className=\"ms-1\"> {symbol}</span>\n              </>\n            ) : (\n              <Spinner animation=\"border\" size=\"sm\" className=\"opacity-25\" />\n            )}\n          </Dropdown.Toggle>\n\n          <Dropdown.Menu className=\"shadow-lg border-0\">\n            <Dropdown.Item\n              href={`https://explorer.testnet.near.org/accounts/${address}`}\n              target=\"_blank\"\n            >\n              <Stack direction=\"horizontal\" gap={2}>\n                <i className=\"bi bi-person-circle fs-4\" />\n                <span className=\"font-monospace\">{address}</span>\n              </Stack>\n            </Dropdown.Item>\n\n            <Dropdown.Divider />\n            <Dropdown.Item\n              as=\"button\"\n              className=\"d-flex align-items-center\"\n              onClick={() => {\n                destroy();\n              }}\n            >\n              <i className=\"bi bi-box-arrow-right me-2 fs-4\" />\n              Disconnect\n            </Dropdown.Item>\n          </Dropdown.Menu>\n        </Dropdown>\n      </>\n    );\n  }\n\n  return null;\n};\n\nexport default Wallet;\n","const CONTRACT_NAME =\n    process.env.CONTRACT_NAME || \"pettshop.devfrank.testnet\"; // put here a smart contracts' name\n\nfunction environment(env: any) {\n    switch (env) {\n        case \"mainnet\":\n            return {\n                networkId: \"mainnet\",\n                nodeUrl: \"https://rpc.mainnet.near.org\",\n                contractName: CONTRACT_NAME,\n                walletUrl: \"https://wallet.near.org\",\n                helperUrl: \"https://helper.mainnet.near.org\",\n                explorerUrl: \"https://explorer.mainnet.near.org\",\n                headers: {}\n            };\n        case \"testnet\":\n            return {\n                networkId: \"testnet\",\n                nodeUrl: \"https://rpc.testnet.near.org\",\n                contractName: CONTRACT_NAME,\n                walletUrl: \"https://wallet.testnet.near.org\",\n                helperUrl: \"https://helper.testnet.near.org\",\n                explorerUrl: \"https://explorer.testnet.near.org\",\n                headers: {}\n            };\n        default:\n            throw Error(`Unknown environment '${env}'.`);\n    }\n}\n\nexport default environment;\n","import environment from \"./config\";\nimport { connect, Contract, keyStores, WalletConnection } from \"near-api-js\";\nimport { formatNearAmount } from \"near-api-js/lib/utils/format\";\n\nconst nearEnv = environment(\"testnet\");\n\nexport async function initializeContract() {\n    const near = await connect(\n        Object.assign(\n            { deps: { keyStore: new keyStores.BrowserLocalStorageKeyStore() } },\n            nearEnv\n        )\n    );\n    window.walletConnection = new WalletConnection(near, null);\n    window.accountId = window.walletConnection.getAccountId();\n    window.contract = new Contract(\n        window.walletConnection.account(),\n        nearEnv.contractName,\n        {\n            // List here all view methods\n            viewMethods: [\"getPet\", \"getPets\", \"petCount\", \"getFee\"],\n            // List call methods that change state\n            changeMethods: [\"adoptPet\", \"listPet\"],\n        }\n    );\n}\n\nexport async function accountBalance() {\n    return formatNearAmount(\n        (await window.walletConnection.account().getAccountBalance()).total,\n        2\n    );\n}\n\nexport async function getAccountId() {\n    return window.walletConnection.getAccountId();\n}\n\nexport function login() {\n    window.walletConnection.requestSignIn(nearEnv.contractName);\n}\n\nexport function logout() {\n    window.walletConnection.signOut();\n    window.location.reload();\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {ToastContainer} from 'react-toastify';\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst Notification = () => (\n  <ToastContainer\n    position=\"bottom-center\"\n    autoClose={5000}\n    hideProgressBar\n    newestOnTop\n    closeOnClick\n    rtl={false}\n    pauseOnFocusLoss\n    draggable={false}\n    pauseOnHover\n  />\n);\n// @ts-ignore \nconst NotificationSuccess = ({ text }) => (\n  <div>\n    <i className=\"bi bi-check-circle-fill text-success mx-2\" />\n    <span className=\"text-secondary mx-1\">{text}</span>\n  </div>\n);\n// @ts-ignore \nconst NotificationError = ({ text }) => (\n  <div>\n    <i className=\"bi bi-x-circle-fill text-danger mx-2\" />\n    <span className=\"text-secondary mx-1\">{text}</span>\n  </div>\n);\n\nconst Props = {\n  text: PropTypes.string,\n};\n\nconst DefaultProps = {\n  text: '',\n};\n\nNotificationSuccess.propTypes = Props;\nNotificationSuccess.defaultProps = DefaultProps;\n\nNotificationError.propTypes = Props;\nNotificationError.defaultProps = DefaultProps;\n\nexport { Notification, NotificationSuccess, NotificationError };\n","import React from 'react';\nimport { Button } from \"react-bootstrap\";\n\ninterface Props {\n  name: string,\n  coverImg: string,\n  login: Function,\n}\n\nconst Cover:React.FC<Props> = ({ name, coverImg, login }) => {\n  if (name) {\n    return (\n      <div\n          className=\"d-flex justify-content-center flex-column text-center \"\n          style={{ background: \"#282c34\", minHeight: \"100vh\" }}\n        >\n          <div className=\"mt-auto text-light mb-5\">\n            <div\n              className=\" ratio ratio-1x1 mx-auto mb-2\"\n              style={{ maxWidth: \"320px\" }}\n            >\n              <img src={coverImg} alt=\"\" />\n            </div>\n            <h1>{name}</h1>\n            <p>Please connect your wallet to continue.</p>\n            <Button\n              onClick={() => login().catch((e: Error) => console.log(e))}\n              variant=\"outline-light\"\n              className=\"rounded-pill px-3 mt-3\"\n            >\n              Connect Wallet\n            </Button>\n          </div>\n\n          <p className=\"mt-auto text-secondary\">Powered by Near</p>\n        </div>\n    );\n  }\n\n  return null;\n};\n\nexport default Cover;\n","export default __webpack_public_path__ + \"static/media/petshop.0b59a906.jpg\";","import React from \"react\";\nimport { Card, Button, Col, Badge, Stack } from \"react-bootstrap\";\n\nexport interface petDetails{\n\tid: string,\n\tpetName: string,\n\timageURL: string,\n\tage: string,\n\tbreed: string,\n\tlocation: string,\n\tadopted: boolean,\n\towner: string,\n}\n\ninterface Props {\n  pet: petDetails,\n  adopt: Function,\n  fee: string\n}\n\n\nconst Pet:React.FC<Props> = ({ pet, adopt, fee }) => {\n  const trigger = () => {\n    adopt(pet.id);\n  };\n\n  const isAdopted = () => pet.adopted;\n\n  return (\n    <Col key={pet.id}>\n      <Card className=\" h-100\">\n        <Card.Header>\n          <Stack direction=\"horizontal\" gap={2}>\n            <span className=\"font-monospace text-secondary\">{isAdopted()? pet.owner : \"\"}</span>\n            <Badge bg=\"secondary\" className=\"ms-auto\">\n              {pet.adopted}\n            </Badge>\n          </Stack>\n        </Card.Header>\n        <div className=\" ratio ratio-4x3\">\n          <img src={pet.imageURL} alt={pet.petName} style={{ objectFit: \"cover\" }} />\n        </div>\n        <Card.Body className=\"d-flex  flex-column text-center\">\n          <Card.Title>{pet.petName}</Card.Title>\n          <Card.Text className=\"flex-grow-1 \">{pet.breed}</Card.Text>\n          <Card.Text className=\"text-secondary\">\n            <span>{pet.location}</span>\n          </Card.Text>\n          <Button\n            variant=\"outline-dark\"\n            onClick={trigger}\n            className=\"w-100 py-3\"\n            disabled={isAdopted()}\n          >\n            {isAdopted()? \"Adopted\" : `Adopt ${pet.petName}`}\n          </Button>\n        </Card.Body>\n      </Card>\n    </Col>\n  );\n};\n\nexport default Pet;","import React, { useState } from \"react\"\nimport { Button, Modal, Form, FloatingLabel} from \"react-bootstrap\"\n\ninterface Props {\n\tsave: Function\n}\n\nconst AddPet: React.FC<Props> = ({ save }) => {\n\tconst [petName, setPetName] = useState(\"\")\n\tconst [imageURL, setImage] = useState(\"\")\n\tconst [breed, setBreed] = useState(\"\")\n\tconst [age, setAge] = useState(\"\")\n\tconst [location, setLocation] = useState(\"\")\n\tconst isFormFilled = () => petName && imageURL && breed && age && location\n\n\tconst [show, setShow] = useState(false)\n\n\tconst handleClose = () => setShow(false)\n\tconst handleShow = () => setShow(true)\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tonClick={handleShow}\n\t\t\t\tvariant=\"dark\"\n\t\t\t\tclassName=\"rounded-pill px-0\"\n\t\t\t\tstyle={{ width: \"38px\" }}\n\t\t\t>\n\t\t\t\t<i className=\"bi bi-plus\"></i>\n\t\t\t</Button>\n\t\t\t<Modal show={show} onHide={handleClose} centered>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>New Pet</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Form>\n\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\t\tcontrolId=\"inputName\"\n\t\t\t\t\t\t\tlabel=\"Pet name\"\n\t\t\t\t\t\t\tclassName=\"mb-3\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetPetName(e.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tplaceholder=\"Enter name of pet\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FloatingLabel>\n\t\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\t\tcontrolId=\"inputUrl\"\n\t\t\t\t\t\t\tlabel=\"Image URL\"\n\t\t\t\t\t\t\tclassName=\"mb-3\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder=\"Image URL\"\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetImage(e.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FloatingLabel>\n\t\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\t\tcontrolId=\"inputBreed\"\n\t\t\t\t\t\t\tlabel=\"Breed\"\n\t\t\t\t\t\t\tclassName=\"mb-3\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\tplaceholder=\"breed\"\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetBreed(e.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FloatingLabel>\n\t\t\t\t\t\t<FloatingLabel controlId=\"inputAge\" label=\"Age\" className=\"mb-3\">\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\tplaceholder=\"age\"\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetAge(e.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FloatingLabel>\n\t\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\t\tcontrolId=\"inputLocation\"\n\t\t\t\t\t\t\tlabel=\"Location\"\n\t\t\t\t\t\t\tclassName=\"mb-3\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder=\"Location\"\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetLocation(e.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FloatingLabel>\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t</Form>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button variant=\"outline-secondary\" onClick={handleClose}>\n\t\t\t\t\t\tClose\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"dark\"\n\t\t\t\t\t\tdisabled={!isFormFilled()}\n\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tawait save({\n\t\t\t\t\t\t\t\t\tpetName,\n\t\t\t\t\t\t\t\t\timageURL,\n\t\t\t\t\t\t\t\t\tbreed,\n\t\t\t\t\t\t\t\t\tage,\n\t\t\t\t\t\t\t\t\tlocation,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\thandleClose()\n\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tList Pet\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t</>\n\t)\n}\n\nexport default AddPet\n","import React from 'react';\nimport { Spinner } from \"react-bootstrap\";\nconst Loader = () => (\n \n \n  <div className=\"d-flex justify-content-center\">\n    <Spinner animation=\"border\" role=\"status\" className=\"opacity-25\">\n      <span className=\"visually-hidden\">Loading...</span>\n    </Spinner>\n  </div>\n\n);\nexport default Loader;\n","import { v4 as uuid4 } from \"uuid\";\nimport { petDetails } from \"../components/petshop/PetCard\";\n\nconst GAS = 100000000000000;\n\nexport function listPet(pet: petDetails) {\n    pet.id = uuid4();\n    //@ts-ignore\n    return window.contract.listPet({ pet });\n}\n\nexport function getPetsList() {\n    //@ts-ignore\n    return window.contract.getPets();\n}\n\nexport async function adoptPet(params: {id: string, fee: string}){\n    const {id, fee} = params;\n\n    //@ts-ignore\n    await window.contract.adoptPet({petId : id}, GAS, fee)\n}\n\nexport function getFee() {\n    //@ts-ignore\n    return window.contract.getFee();\n}","import React, { useEffect, useState, useCallback } from \"react\"\nimport { toast } from \"react-toastify\"\nimport Pet from \"./PetCard\"\nimport AddPet from \"./AddPet\"\nimport { utils } from \"near-api-js\"\nimport Loader from \"../ui/Loader\"\nimport { Row } from \"react-bootstrap\"\nimport { petDetails } from \"./PetCard\"\nimport { NotificationSuccess, NotificationError } from \"../ui/Notifications\"\nimport { getPetsList, getFee, adoptPet, listPet } from \"../../utils/petshop\"\n\nconst Pets = () => {\n\tconst [pets, setPets] = useState([])\n\tconst [loading, setLoading] = useState(false)\n\tconst [fee, setFee] = useState(\"0\")\n\n\t// function to get the list of products\n\tconst getPets = useCallback(async () => {\n\t\ttry {\n\t\t\tsetLoading(true)\n\t\t\tsetPets(await getPetsList())\n\t\t} catch (error) {\n\t\t\tconsole.log({ error })\n\t\t} finally {\n\t\t\tsetLoading(false)\n\t\t}\n\t}, [])\n\n\tconst getAdoptionFee = useCallback(async () => {\n\t\ttry {\n\t\t\tsetFee(await getFee())\n\t\t} catch (error) {\n\t\t\tconsole.log({ error })\n\t\t}\n\t}, [])\n\n\tconst addPet = async (data: petDetails) => {\n\t\tsetLoading(true)\n\t\ttry {\n\t\t\tawait listPet(data).then((resp: any) => {\n\t\t\t\ttoast(<NotificationSuccess text=\"Pet added successfully.\" />);\n\t\t\t\tgetPets()\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tconsole.log({ error })\n\t\t\ttoast(<NotificationError text=\"Failed to list pet.\" />)\n\t\t} finally {\n\t\t\tsetLoading(false)\n\t\t}\n\t}\n\n\t//  function to initiate transaction\n\tconst adopt = async (id: string) => {\n\t\ttry {\n\t\t\tawait adoptPet({\n\t\t\t\tid,\n\t\t\t\tfee,\n\t\t\t}).then((resp: any) => {\n\t\t\t\ttoast(<NotificationSuccess text=\"Pet adopted successfully\" />);\n\t\t\t\tgetPets()\n\t\t\t})\n\t\t} catch (error) {\n\t\t\ttoast(<NotificationError text=\"Failed to adopt pet.\" />)\n\t\t} finally {\n\t\t\tsetLoading(false)\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tgetPets()\n\t\tgetAdoptionFee()\n\t}, [getPets, getAdoptionFee])\n\n\treturn (\n\t\t<>\n\t\t\t{!loading ? (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"text-start container\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid=\"adoptionNotice\"\n\t\t\t\t\t\t\tclassName=\"mb-4\"\n\t\t\t\t\t\t\tstyle={{ marginTop: \"1em\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<i className=\"bi bi-bell-fill\"></i> Adoption Fee is{\" \"}\n\t\t\t\t\t\t\t\t{utils.format.formatNearAmount(fee)} Near\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"d-flex justify-content-between align-items-center mb-4\">\n\t\t\t\t\t\t<AddPet save={addPet} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<Row xs={1} sm={2} lg={3} className=\"g-3  mb-5 g-xl-4 g-xxl-5\">\n\t\t\t\t\t\t{pets.map((_pet:petDetails) => (\n\t\t\t\t\t\t\t<Pet pet={_pet} key={_pet.id} adopt={adopt} fee={fee} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Row>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<Loader />\n\t\t\t)}\n\t\t</>\n\t)\n}\n\nexport default Pets\n","import \"./App.css\"\nimport React, { useEffect, useCallback, useState } from \"react\"\nimport { Navbar, Container, Nav } from \"react-bootstrap\"\nimport Wallet from \"./components/ui/Wallet\"\nimport \"../node_modules/bootstrap/dist/css/bootstrap.css\"\nimport { login, logout as destroy, accountBalance } from \"./utils/near\"\nimport { Notification } from \"./components/ui/Notifications\"\nimport Cover from \"./components/ui/Cover\"\nimport coverImg from \"./assets/img/petshop.jpg\"\nimport Pets from \"./components/petshop/Pets\"\n\nconst App = function AppWrapper() {\n\tconst account = window.walletConnection.account()\n\t\n\tconst [balance, setBalance] = useState(\"0\")\n\n\tconst getBalance = useCallback(async () => {\n\t\tif (account.accountId) {\n\t\t\tsetBalance(await accountBalance())\n\t\t}\n\t}, [account])\n\n\tuseEffect(() => {\n\t\tgetBalance()\n\t}, [getBalance])\n\n\treturn (\n\t\t<>\n\t\t\t<Notification />\n\t\t\t{account.accountId ? (\n\t\t\t\t<Container fluid=\"md\">\n\t\t\t\t\t<Navbar bg=\"white\" expand=\"lg\">\n\t\t\t\t\t\t<Container className=\"container-fluid\">\n\t\t\t\t\t\t\t<Navbar.Brand href=\"index.html\" className=\" m-0 h4 fw-bold\">\n\t\t\t\t\t\t\t\tPet Adoption Shop\n\t\t\t\t\t\t\t</Navbar.Brand>\n\t\t\t\t\t\t\t<Nav className=\"justify-content-end pt-3 pb-5\">\n\t\t\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t\t\t<Wallet\n\t\t\t\t\t\t\t\t\t\taddress={account.accountId}\n\t\t\t\t\t\t\t\t\t\tamount={balance}\n\t\t\t\t\t\t\t\t\t\tsymbol=\"NEAR\"\n\t\t\t\t\t\t\t\t\t\tdestroy={destroy}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Navbar>\n\t\t\t\t\t<main>\n\t\t\t\t\t\t<Pets />\n\t\t\t\t\t</main>\n\t\t\t\t</Container>\n\t\t\t) : (\n\t\t\t\t<Cover name=\"Pet Shop\" login={login} coverImg={coverImg} />\n\t\t\t)}\n\t\t</>\n\t)\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { initializeContract } from \"./utils/near\";\n\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport 'react-toastify/dist/ReactToastify.css';\n\n\nwindow.nearInitPromise = initializeContract()\n  .then(() => {\n    const root = ReactDOM.createRoot(\n      document.getElementById('root') as HTMLElement\n    );\n    root.render(\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    );\n  })\n  .catch(console.error);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}